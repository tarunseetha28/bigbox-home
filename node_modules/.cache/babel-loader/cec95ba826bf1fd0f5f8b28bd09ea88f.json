{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport * as React from 'react';\nimport { convertChildrenToData } from '../utils/legacyUtil';\n\nfunction parseSimpleTreeData(treeData, _ref) {\n  var id = _ref.id,\n      pId = _ref.pId,\n      rootPId = _ref.rootPId;\n  var keyNodes = {};\n  var rootNodeList = []; // Fill in the map\n\n  var nodeList = treeData.map(function (node) {\n    var clone = _objectSpread({}, node);\n\n    var key = clone[id];\n    keyNodes[key] = clone;\n    clone.key = clone.key || key;\n    return clone;\n  }); // Connect tree\n\n  nodeList.forEach(function (node) {\n    var parentKey = node[pId];\n    var parent = keyNodes[parentKey]; // Fill parent\n\n    if (parent) {\n      parent.children = parent.children || [];\n      parent.children.push(node);\n    } // Fill root tree node\n\n\n    if (parentKey === rootPId || !parent && rootPId === null) {\n      rootNodeList.push(node);\n    }\n  });\n  return rootNodeList;\n}\n/**\r\n * Convert `treeData` or `children` into formatted `treeData`.\r\n * Will not re-calculate if `treeData` or `children` not change.\r\n */\n\n\nexport default function useTreeData(treeData, children, simpleMode) {\n  return React.useMemo(function () {\n    if (treeData) {\n      return simpleMode ? parseSimpleTreeData(treeData, _objectSpread({\n        id: 'id',\n        pId: 'pId',\n        rootPId: null\n      }, simpleMode !== true ? simpleMode : {})) : treeData;\n    }\n\n    return convertChildrenToData(children);\n  }, [children, simpleMode, treeData]);\n}","map":{"version":3,"sources":["C:/Users/tarun/bigbox-home/node_modules/rc-tree-select/es/hooks/useTreeData.js"],"names":["_objectSpread","React","convertChildrenToData","parseSimpleTreeData","treeData","_ref","id","pId","rootPId","keyNodes","rootNodeList","nodeList","map","node","clone","key","forEach","parentKey","parent","children","push","useTreeData","simpleMode","useMemo"],"mappings":"AAAA,OAAOA,aAAP,MAA0B,0CAA1B;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,qBAAT,QAAsC,qBAAtC;;AAEA,SAASC,mBAAT,CAA6BC,QAA7B,EAAuCC,IAAvC,EAA6C;AAC3C,MAAIC,EAAE,GAAGD,IAAI,CAACC,EAAd;AAAA,MACIC,GAAG,GAAGF,IAAI,CAACE,GADf;AAAA,MAEIC,OAAO,GAAGH,IAAI,CAACG,OAFnB;AAGA,MAAIC,QAAQ,GAAG,EAAf;AACA,MAAIC,YAAY,GAAG,EAAnB,CAL2C,CAKpB;;AAEvB,MAAIC,QAAQ,GAAGP,QAAQ,CAACQ,GAAT,CAAa,UAAUC,IAAV,EAAgB;AAC1C,QAAIC,KAAK,GAAGd,aAAa,CAAC,EAAD,EAAKa,IAAL,CAAzB;;AAEA,QAAIE,GAAG,GAAGD,KAAK,CAACR,EAAD,CAAf;AACAG,IAAAA,QAAQ,CAACM,GAAD,CAAR,GAAgBD,KAAhB;AACAA,IAAAA,KAAK,CAACC,GAAN,GAAYD,KAAK,CAACC,GAAN,IAAaA,GAAzB;AACA,WAAOD,KAAP;AACD,GAPc,CAAf,CAP2C,CAcvC;;AAEJH,EAAAA,QAAQ,CAACK,OAAT,CAAiB,UAAUH,IAAV,EAAgB;AAC/B,QAAII,SAAS,GAAGJ,IAAI,CAACN,GAAD,CAApB;AACA,QAAIW,MAAM,GAAGT,QAAQ,CAACQ,SAAD,CAArB,CAF+B,CAEG;;AAElC,QAAIC,MAAJ,EAAY;AACVA,MAAAA,MAAM,CAACC,QAAP,GAAkBD,MAAM,CAACC,QAAP,IAAmB,EAArC;AACAD,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBP,IAArB;AACD,KAP8B,CAO7B;;;AAGF,QAAII,SAAS,KAAKT,OAAd,IAAyB,CAACU,MAAD,IAAWV,OAAO,KAAK,IAApD,EAA0D;AACxDE,MAAAA,YAAY,CAACU,IAAb,CAAkBP,IAAlB;AACD;AACF,GAbD;AAcA,SAAOH,YAAP;AACD;AACD;AACA;AACA;AACA;;;AAGA,eAAe,SAASW,WAAT,CAAqBjB,QAArB,EAA+Be,QAA/B,EAAyCG,UAAzC,EAAqD;AAClE,SAAOrB,KAAK,CAACsB,OAAN,CAAc,YAAY;AAC/B,QAAInB,QAAJ,EAAc;AACZ,aAAOkB,UAAU,GAAGnB,mBAAmB,CAACC,QAAD,EAAWJ,aAAa,CAAC;AAC9DM,QAAAA,EAAE,EAAE,IAD0D;AAE9DC,QAAAA,GAAG,EAAE,KAFyD;AAG9DC,QAAAA,OAAO,EAAE;AAHqD,OAAD,EAI5Dc,UAAU,KAAK,IAAf,GAAsBA,UAAtB,GAAmC,EAJyB,CAAxB,CAAtB,GAI4BlB,QAJ7C;AAKD;;AAED,WAAOF,qBAAqB,CAACiB,QAAD,CAA5B;AACD,GAVM,EAUJ,CAACA,QAAD,EAAWG,UAAX,EAAuBlB,QAAvB,CAVI,CAAP;AAWD","sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\r\nimport * as React from 'react';\r\nimport { convertChildrenToData } from '../utils/legacyUtil';\r\n\r\nfunction parseSimpleTreeData(treeData, _ref) {\r\n  var id = _ref.id,\r\n      pId = _ref.pId,\r\n      rootPId = _ref.rootPId;\r\n  var keyNodes = {};\r\n  var rootNodeList = []; // Fill in the map\r\n\r\n  var nodeList = treeData.map(function (node) {\r\n    var clone = _objectSpread({}, node);\r\n\r\n    var key = clone[id];\r\n    keyNodes[key] = clone;\r\n    clone.key = clone.key || key;\r\n    return clone;\r\n  }); // Connect tree\r\n\r\n  nodeList.forEach(function (node) {\r\n    var parentKey = node[pId];\r\n    var parent = keyNodes[parentKey]; // Fill parent\r\n\r\n    if (parent) {\r\n      parent.children = parent.children || [];\r\n      parent.children.push(node);\r\n    } // Fill root tree node\r\n\r\n\r\n    if (parentKey === rootPId || !parent && rootPId === null) {\r\n      rootNodeList.push(node);\r\n    }\r\n  });\r\n  return rootNodeList;\r\n}\r\n/**\r\n * Convert `treeData` or `children` into formatted `treeData`.\r\n * Will not re-calculate if `treeData` or `children` not change.\r\n */\r\n\r\n\r\nexport default function useTreeData(treeData, children, simpleMode) {\r\n  return React.useMemo(function () {\r\n    if (treeData) {\r\n      return simpleMode ? parseSimpleTreeData(treeData, _objectSpread({\r\n        id: 'id',\r\n        pId: 'pId',\r\n        rootPId: null\r\n      }, simpleMode !== true ? simpleMode : {})) : treeData;\r\n    }\r\n\r\n    return convertChildrenToData(children);\r\n  }, [children, simpleMode, treeData]);\r\n}"]},"metadata":{},"sourceType":"module"}