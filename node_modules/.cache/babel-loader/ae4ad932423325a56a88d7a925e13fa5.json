{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nexport default function useControlledState(defaultStateValue, option) {\n  var _ref = option || {},\n      defaultValue = _ref.defaultValue,\n      value = _ref.value,\n      onChange = _ref.onChange,\n      postState = _ref.postState;\n\n  var _React$useState = React.useState(function () {\n    if (value !== undefined) {\n      return value;\n    }\n\n    if (defaultValue !== undefined) {\n      return typeof defaultValue === 'function' ? defaultValue() : defaultValue;\n    }\n\n    return typeof defaultStateValue === 'function' ? defaultStateValue() : defaultStateValue;\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      innerValue = _React$useState2[0],\n      setInnerValue = _React$useState2[1];\n\n  var mergedValue = value !== undefined ? value : innerValue;\n\n  if (postState) {\n    mergedValue = postState(mergedValue);\n  } // setState\n\n\n  var onChangeRef = React.useRef(onChange);\n  onChangeRef.current = onChange;\n  var triggerChange = React.useCallback(function (newValue) {\n    setInnerValue(newValue);\n\n    if (mergedValue !== newValue && onChangeRef.current) {\n      onChangeRef.current(newValue, mergedValue);\n    }\n  }, [mergedValue, onChangeRef]); // Effect of reset value to `undefined`\n\n  var firstRenderRef = React.useRef(true);\n  React.useEffect(function () {\n    if (firstRenderRef.current) {\n      firstRenderRef.current = false;\n      return;\n    }\n\n    if (value === undefined) {\n      setInnerValue(value);\n    }\n  }, [value]);\n  return [mergedValue, triggerChange];\n}","map":{"version":3,"sources":["C:/Users/tarun/bigbox-home/node_modules/rc-util/es/hooks/useMergedState.js"],"names":["_slicedToArray","React","useControlledState","defaultStateValue","option","_ref","defaultValue","value","onChange","postState","_React$useState","useState","undefined","_React$useState2","innerValue","setInnerValue","mergedValue","onChangeRef","useRef","current","triggerChange","useCallback","newValue","firstRenderRef","useEffect"],"mappings":"AAAA,OAAOA,cAAP,MAA2B,0CAA3B;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,eAAe,SAASC,kBAAT,CAA4BC,iBAA5B,EAA+CC,MAA/C,EAAuD;AACpE,MAAIC,IAAI,GAAGD,MAAM,IAAI,EAArB;AAAA,MACIE,YAAY,GAAGD,IAAI,CAACC,YADxB;AAAA,MAEIC,KAAK,GAAGF,IAAI,CAACE,KAFjB;AAAA,MAGIC,QAAQ,GAAGH,IAAI,CAACG,QAHpB;AAAA,MAIIC,SAAS,GAAGJ,IAAI,CAACI,SAJrB;;AAMA,MAAIC,eAAe,GAAGT,KAAK,CAACU,QAAN,CAAe,YAAY;AAC/C,QAAIJ,KAAK,KAAKK,SAAd,EAAyB;AACvB,aAAOL,KAAP;AACD;;AAED,QAAID,YAAY,KAAKM,SAArB,EAAgC;AAC9B,aAAO,OAAON,YAAP,KAAwB,UAAxB,GAAqCA,YAAY,EAAjD,GAAsDA,YAA7D;AACD;;AAED,WAAO,OAAOH,iBAAP,KAA6B,UAA7B,GAA0CA,iBAAiB,EAA3D,GAAgEA,iBAAvE;AACD,GAVqB,CAAtB;AAAA,MAWIU,gBAAgB,GAAGb,cAAc,CAACU,eAAD,EAAkB,CAAlB,CAXrC;AAAA,MAYII,UAAU,GAAGD,gBAAgB,CAAC,CAAD,CAZjC;AAAA,MAaIE,aAAa,GAAGF,gBAAgB,CAAC,CAAD,CAbpC;;AAeA,MAAIG,WAAW,GAAGT,KAAK,KAAKK,SAAV,GAAsBL,KAAtB,GAA8BO,UAAhD;;AAEA,MAAIL,SAAJ,EAAe;AACbO,IAAAA,WAAW,GAAGP,SAAS,CAACO,WAAD,CAAvB;AACD,GA1BmE,CA0BlE;;;AAGF,MAAIC,WAAW,GAAGhB,KAAK,CAACiB,MAAN,CAAaV,QAAb,CAAlB;AACAS,EAAAA,WAAW,CAACE,OAAZ,GAAsBX,QAAtB;AACA,MAAIY,aAAa,GAAGnB,KAAK,CAACoB,WAAN,CAAkB,UAAUC,QAAV,EAAoB;AACxDP,IAAAA,aAAa,CAACO,QAAD,CAAb;;AAEA,QAAIN,WAAW,KAAKM,QAAhB,IAA4BL,WAAW,CAACE,OAA5C,EAAqD;AACnDF,MAAAA,WAAW,CAACE,OAAZ,CAAoBG,QAApB,EAA8BN,WAA9B;AACD;AACF,GANmB,EAMjB,CAACA,WAAD,EAAcC,WAAd,CANiB,CAApB,CA/BoE,CAqCpC;;AAEhC,MAAIM,cAAc,GAAGtB,KAAK,CAACiB,MAAN,CAAa,IAAb,CAArB;AACAjB,EAAAA,KAAK,CAACuB,SAAN,CAAgB,YAAY;AAC1B,QAAID,cAAc,CAACJ,OAAnB,EAA4B;AAC1BI,MAAAA,cAAc,CAACJ,OAAf,GAAyB,KAAzB;AACA;AACD;;AAED,QAAIZ,KAAK,KAAKK,SAAd,EAAyB;AACvBG,MAAAA,aAAa,CAACR,KAAD,CAAb;AACD;AACF,GATD,EASG,CAACA,KAAD,CATH;AAUA,SAAO,CAACS,WAAD,EAAcI,aAAd,CAAP;AACD","sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\r\nimport * as React from 'react';\r\nexport default function useControlledState(defaultStateValue, option) {\r\n  var _ref = option || {},\r\n      defaultValue = _ref.defaultValue,\r\n      value = _ref.value,\r\n      onChange = _ref.onChange,\r\n      postState = _ref.postState;\r\n\r\n  var _React$useState = React.useState(function () {\r\n    if (value !== undefined) {\r\n      return value;\r\n    }\r\n\r\n    if (defaultValue !== undefined) {\r\n      return typeof defaultValue === 'function' ? defaultValue() : defaultValue;\r\n    }\r\n\r\n    return typeof defaultStateValue === 'function' ? defaultStateValue() : defaultStateValue;\r\n  }),\r\n      _React$useState2 = _slicedToArray(_React$useState, 2),\r\n      innerValue = _React$useState2[0],\r\n      setInnerValue = _React$useState2[1];\r\n\r\n  var mergedValue = value !== undefined ? value : innerValue;\r\n\r\n  if (postState) {\r\n    mergedValue = postState(mergedValue);\r\n  } // setState\r\n\r\n\r\n  var onChangeRef = React.useRef(onChange);\r\n  onChangeRef.current = onChange;\r\n  var triggerChange = React.useCallback(function (newValue) {\r\n    setInnerValue(newValue);\r\n\r\n    if (mergedValue !== newValue && onChangeRef.current) {\r\n      onChangeRef.current(newValue, mergedValue);\r\n    }\r\n  }, [mergedValue, onChangeRef]); // Effect of reset value to `undefined`\r\n\r\n  var firstRenderRef = React.useRef(true);\r\n  React.useEffect(function () {\r\n    if (firstRenderRef.current) {\r\n      firstRenderRef.current = false;\r\n      return;\r\n    }\r\n\r\n    if (value === undefined) {\r\n      setInnerValue(value);\r\n    }\r\n  }, [value]);\r\n  return [mergedValue, triggerChange];\r\n}"]},"metadata":{},"sourceType":"module"}